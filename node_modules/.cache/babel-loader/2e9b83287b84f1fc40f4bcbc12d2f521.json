{"ast":null,"code":"import _slicedToArray from\"/Users/jinien/Documents/De\\u0301veloppement/Projet 2/paris-react-0920-pjt-bandgang/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';import Tracks from'./Tracks';import'./PlaylistGrid.css';var PlaylistGrid=function PlaylistGrid(_ref){var token=_ref.token,setCatchid=_ref.setCatchid,playlists=_ref.playlists;var _useParams=useParams(),id=_useParams.id;setCatchid(id);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tracks=_useState2[0],setTracks=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),song=_useState4[0],setSong=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),displayTracks=_useState6[0],setDisplayTracks=_useState6[1];var handleClik=function handleClik(id){setDisplayTracks(true);axios(\"https://api.spotify.com/v1/playlists/\".concat(id,\"/tracks?limit=50\"),{method:'GET',headers:{Authorization:'Bearer '+token}}).then(function(res){setTracks(res.data.items);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"category-title\",children:id.replace(/[&]/g,'n').replace(/[/-_]/g,' ')}),/*#__PURE__*/_jsx(\"div\",{className:\"playlist-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"scrollx-section\",children:playlists.map(function(playlist){return/*#__PURE__*/_jsx(\"div\",{className:\"playlist-item\",onClick:function onClick(){return handleClik(playlist.id);},children:/*#__PURE__*/_jsx(\"img\",{src:playlist.images[0].url,alt:\"picture\"})},playlist.id);})})}),displayTracks&&/*#__PURE__*/_jsxs(\"div\",{className:\"trackAndPlayer-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"track-title\",children:\"Tracks\"}),/*#__PURE__*/_jsx(\"audio\",{controls:true,autoPlay:false,name:\"media\",src:song,type:\"audio/mpeg\",className:\"player\"})]}),displayTracks&&/*#__PURE__*/_jsx(Tracks,{tracks:tracks,setSong:setSong})]});};export default PlaylistGrid;","map":{"version":3,"sources":["/Users/jinien/Documents/DeÌveloppement/Projet 2/paris-react-0920-pjt-bandgang/src/components/PlaylistGrid.jsx"],"names":["useState","useParams","axios","Tracks","PlaylistGrid","token","setCatchid","playlists","id","tracks","setTracks","song","setSong","displayTracks","setDisplayTracks","handleClik","method","headers","Authorization","then","res","data","items","replace","map","playlist","images","url"],"mappings":"iSAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA,MAAO,oBAAP,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAsC,IAAnCC,CAAAA,KAAmC,MAAnCA,KAAmC,CAA5BC,UAA4B,MAA5BA,UAA4B,CAAhBC,SAAgB,MAAhBA,SAAgB,gBAC1CN,SAAS,EADiC,CACjDO,EADiD,YACjDA,EADiD,CAEzDF,UAAU,CAACE,EAAD,CAAV,CAFyD,cAG7BR,QAAQ,CAAC,EAAD,CAHqB,wCAGlDS,MAHkD,eAG1CC,SAH0C,8BAIjCV,QAAQ,CAAC,EAAD,CAJyB,yCAIlDW,IAJkD,eAI5CC,OAJ4C,8BAKfZ,QAAQ,CAAC,KAAD,CALO,yCAKlDa,aALkD,eAKnCC,gBALmC,eAOzD,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,EAAD,CAAQ,CACzBM,gBAAgB,CAAC,IAAD,CAAhB,CACAZ,KAAK,gDAAyCM,EAAzC,qBAA+D,CAClEQ,MAAM,CAAE,KAD0D,CAElEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYb,KADpB,CAFyD,CAA/D,CAAL,CAKGc,IALH,CAKQ,SAACC,GAAD,CAAS,CACfV,SAAS,CAACU,GAAG,CAACC,IAAJ,CAASC,KAAV,CAAT,CACD,CAPD,EAQD,CAVD,CAWA,mBACE,oCACE,WAAI,SAAS,CAAC,gBAAd,UAAgCd,EAAE,CAACe,OAAH,CAAW,MAAX,CAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,QAAhC,CAA0C,GAA1C,CAAhC,EADF,cAEE,YAAK,SAAS,CAAC,oBAAf,uBACE,YAAK,SAAS,CAAC,iBAAf,UACIhB,SAAS,CAACiB,GAAV,CAAc,SAACC,QAAD,CAAc,CAC5B,mBACE,YAAK,SAAS,CAAC,eAAf,CAAiD,OAAO,CAAE,yBAAMV,CAAAA,UAAU,CAACU,QAAQ,CAACjB,EAAV,CAAhB,EAA1D,uBACA,YAAK,GAAG,CAAGiB,QAAQ,CAACC,MAAT,CAAgB,CAAhB,EAAmBC,GAA9B,CAAoC,GAAG,CAAC,SAAxC,EADA,EAAoCF,QAAQ,CAACjB,EAA7C,CADF,CAKD,CANC,CADJ,EADF,EAFF,CAaGK,aAAa,eACd,aAAK,SAAS,CAAC,0BAAf,wBACE,WAAI,SAAS,CAAC,aAAd,oBADF,cAEE,cAAO,QAAQ,KAAf,CAAgB,QAAQ,CAAE,KAA1B,CAAiC,IAAI,CAAC,OAAtC,CAA8C,GAAG,CAAEF,IAAnD,CAAyD,IAAI,CAAC,YAA9D,CAA2E,SAAS,CAAC,QAArF,EAFF,GAdF,CAkBGE,aAAa,eACZ,KAAC,MAAD,EAAQ,MAAM,CAAEJ,MAAhB,CAAwB,OAAO,CAAEG,OAAjC,EAnBJ,GADF,CAuBD,CAzCD,CAiDA,cAAeR,CAAAA,YAAf","sourcesContent":["import { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport Tracks from './Tracks';\n\nimport './PlaylistGrid.css';\n\nconst PlaylistGrid = ({ token, setCatchid, playlists }) => {\n  const { id } = useParams();\n  setCatchid(id);\n  const [tracks, setTracks] = useState([]);\n  const [song, setSong] = useState('');\n  const [displayTracks, setDisplayTracks] = useState(false);\n\n  const handleClik = (id) => {\n    setDisplayTracks(true);\n    axios(`https://api.spotify.com/v1/playlists/${id}/tracks?limit=50`, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then((res) => {\n      setTracks(res.data.items);\n    });\n  };\n  return (\n    <div>\n      <h4 className='category-title'>{id.replace(/[&]/g, 'n').replace(/[/-_]/g, ' ')}</h4>\n      <div className='playlist-container'>\n        <div className='scrollx-section'>\n          { playlists.map((playlist) => {\n            return (\n              <div className='playlist-item' key={playlist.id} onClick={() => handleClik(playlist.id)} >\n              <img src={(playlist.images[0].url)} alt=\"picture\"/>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      {displayTracks &&\n      <div className='trackAndPlayer-container'>\n        <h2 className='track-title'>Tracks</h2>\n        <audio controls autoPlay={false} name=\"media\" src={song} type=\"audio/mpeg\" className='player' />\n      </div>}\n      {displayTracks &&\n        <Tracks tracks={tracks} setSong={setSong}/>}\n    </div>\n  );\n};\n\nPlaylistGrid.propTypes = {\n  setCatchid: PropTypes.string.isRequired,\n  token: PropTypes.string.isRequired,\n  playlists: PropTypes.string.isRequired\n};\n\nexport default PlaylistGrid;\n"]},"metadata":{},"sourceType":"module"}